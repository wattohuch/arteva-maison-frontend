<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your shopping cart at ARTEVA Maison">
    <title data-i18n="shopping_cart">Shopping Cart | ARTEVA Maison</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/pages.css">

    <!-- Flag Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons@7.2.3/css/flag-icons.min.css">
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
</head>

<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-inner">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu">
                    <span></span><span></span><span></span>
                </button>
                <nav class="main-nav" id="mainNav">
                    <div class="nav-item"><a href="index.html" class="nav-link">Home</a></div>
                    <div class="nav-item">
                        <a href="#" class="nav-link"><span data-i18n="categories">Categories</span><svg
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M6 9l6 6 6-6" />
                            </svg></a>
                        <div class="dropdown-menu">
                            <a href="collection.html?cat=crystals" class="dropdown-item">Crystals<span
                                    class="ar">كريستال</span></a>
                            <a href="collection.html?cat=glassware" class="dropdown-item">Glassware<span
                                    class="ar">الأواني الزجاجية</span></a>
                            <a href="collection.html?cat=vases" class="dropdown-item">Vases<span
                                    class="ar">المزهريات</span></a>
                            <a href="collections.html" class="dropdown-item">View All<span class="ar">عرض
                                    الكل</span></a>
                        </div>
                    </div>
                    <div class="nav-item"><a href="collections.html" class="nav-link">Collections</a></div>
                    <div class="nav-item"><a href="contact.html" class="nav-link">Contact</a></div>
                </nav>
            </div>
            <div class="logo">
                <a href="index.html"><span class="logo-text"><span class="main">ARTÉVA</span><span
                            class="sub">MAISON</span></span></a>
            </div>
            <div class="header-right">
                <div class="lang-switcher">
                    <button id="lang-en" class="lang-btn active">EN</button>
                    <span class="lang-separator">|</span>
                    <button id="lang-ar" class="lang-btn">AR</button>
                </div>
                <div class="header-currency">
                    <div class="currency-selector">
                        <button class="currency-trigger" aria-label="Select Currency">
                            <span class="currency-flag fi fi-kw"></span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2"
                                style="width: 12px; height: 12px; margin-left: 2px;">
                                <path d="M6 9l6 6 6-6" />
                            </svg>
                        </button>
                        <div class="currency-dropdown">
                            <div class="currency-option active" data-currency="KWD">
                                <span class="currency-option-flag fi fi-kw" aria-label="Kuwait"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">KWD</div>
                                    <div class="currency-option-name">Kuwaiti Dinar</div>
                                </div>
                            </div>
                            <div class="currency-option" data-currency="SAR">
                                <span class="currency-option-flag fi fi-sa" aria-label="Saudi Arabia"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">SAR</div>
                                    <div class="currency-option-name">Saudi Riyal</div>
                                </div>
                            </div>
                            <div class="currency-option" data-currency="AED">
                                <span class="currency-option-flag fi fi-ae" aria-label="UAE"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">AED</div>
                                    <div class="currency-option-name">UAE Dirham</div>
                                </div>
                            </div>
                            <div class="currency-option" data-currency="QAR">
                                <span class="currency-option-flag fi fi-qa" aria-label="Qatar"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">QAR</div>
                                    <div class="currency-option-name">Qatari Riyal</div>
                                </div>
                            </div>
                            <div class="currency-option" data-currency="BHD">
                                <span class="currency-option-flag fi fi-bh" aria-label="Bahrain"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">BHD</div>
                                    <div class="currency-option-name">Bahraini Dinar</div>
                                </div>
                            </div>
                            <div class="currency-option" data-currency="OMR">
                                <span class="currency-option-flag fi fi-om" aria-label="Oman"></span>
                                <div class="currency-option-info">
                                    <div class="currency-option-code" style="display: none;">OMR</div>
                                    <div class="currency-option-name">Omani Rial</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="header-icon" id="searchToggle" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="M21 21l-4.35-4.35" />
                    </svg>
                </button>
                <a href="account.html" class="header-icon" aria-label="Account">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                </a>
                <button class="header-icon cart-icon" id="cartToggle" aria-label="Cart">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
                        <line x1="3" y1="6" x2="21" y2="6" />
                        <path d="M16 10a4 4 0 0 1-8 0" />
                    </svg>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="logo"><a href="index.html"><span class="logo-text"><span class="main">ARTÉVA</span><span
                            class="sub">MAISON</span></span></a></div>
            <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Close Menu">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
            </button>
        </div>
        <nav class="mobile-nav">
            <div class="mobile-nav-item"><a href="index.html" class="mobile-nav-link">Home</a></div>
            <div class="mobile-nav-item"><a href="collections.html" class="mobile-nav-link">Collections</a></div>
            <div class="mobile-nav-item"><a href="contact.html" class="mobile-nav-link">Contact</a></div>
        </nav>
    </div>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal">
        <button class="search-close" id="searchClose" aria-label="Close Search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
        </button>
        <div class="search-modal-content">
            <div class="search-input-wrapper">
                <span class="search-input-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="M21 21l-4.35-4.35" />
                    </svg></span>
                <input type="text" class="search-input" id="searchInput" placeholder="Search for products..."
                    autocomplete="off">
            </div>
        </div>
    </div>

    <!-- Cart Drawer -->
    <div class="cart-drawer" id="cartDrawer">
        <div class="cart-header">
            <h3 class="cart-title">Your Cart</h3>
            <button class="cart-close" id="cartClose" aria-label="Close Cart">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="cart-empty" id="cartEmpty">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
                    <line x1="3" y1="6" x2="21" y2="6" />
                    <path d="M16 10a4 4 0 0 1-8 0" />
                </svg>
                <p>Your cart is empty</p>
                <a href="collections.html" class="btn btn-primary">Continue Shopping</a>
            </div>
        </div>
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-subtotal"><span>Subtotal</span><strong id="cartSubtotal">0.000 KWD</strong></div>
            <a href="cart.html" class="btn btn-primary cart-checkout-btn">View Cart</a>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main class="cart-page">
        <div class="container">
            <h1 class="page-title" style="margin-bottom: var(--space-8);" data-i18n="shopping_cart">Shopping Cart</h1>

            <div class="cart-layout">
                <!-- Cart Items -->
                <div class="cart-items-section">
                    <table class="cart-table">
                        <thead>
                            <tr>
                                <th data-i18n="product">Product</th>
                                <th data-i18n="price">Price</th>
                                <th data-i18n="quantity">Quantity</th>
                                <th data-i18n="total">Total</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="cartTableBody">
                            <!-- Cart items will be dynamically inserted here -->
                        </tbody>
                    </table>

                    <div style="display: flex; justify-content: space-between; margin-top: var(--space-6);">
                        <a href="collections.html" class="btn btn-secondary" data-i18n="continue_shopping">Continue
                            Shopping</a>
                        <button class="btn btn-secondary" id="clearCartBtn" data-i18n="clear_cart">Clear Cart</button>
                    </div>
                </div>

                <!-- Cart Summary -->
                <div class="cart-summary">
                    <h3 class="cart-summary-title" data-i18n="order_summary">Order Summary</h3>

                    <div class="cart-summary-row">
                        <span data-i18n="subtotal">Subtotal</span>
                        <span id="cartPageSubtotal">0.000 KWD</span>
                    </div>
                    <div class="cart-summary-row">
                        <span data-i18n="shipping">Shipping</span>
                        <span style="color: #10b981;" data-i18n="free">Free</span>
                    </div>
                    <div class="cart-summary-row total">
                        <span data-i18n="total">Total</span>
                        <span id="cartPageTotal">0.000 KWD</span>
                    </div>

                    <p class="cart-summary-note" data-i18n="taxes_shipping_note">Taxes and shipping calculated at
                        checkout</p>

                    <button class="btn btn-primary" id="checkoutBtn" data-i18n="proceed_to_checkout">Proceed to
                        Checkout</button>

                    <!-- Payment Methods -->
                    <div style="margin-top: var(--space-6); text-align: center;">
                        <p style="font-size: 12px; color: var(--text-muted); margin-bottom: var(--space-2);"
                            data-i18n="we_accept">We accept
                        </p>
                        <div style="display: flex; justify-content: center; gap: var(--space-3);">
                            <span
                                style="padding: 4px 12px; background: var(--bg-primary); border-radius: 4px; font-size: 12px; font-weight: 600;">KNET</span>
                            <span
                                style="padding: 4px 12px; background: var(--bg-primary); border-radius: 4px; font-size: 12px; font-weight: 600;">VISA</span>
                            <span
                                style="padding: 4px 12px; background: var(--bg-primary); border-radius: 4px; font-size: 12px; font-weight: 600;">MC</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="logo"><a href="index.html"><span class="logo-text"><span class="main">ARTÉVA</span><span
                                    class="sub">MAISON</span></span></a></div>
                    <p>Discover the art of luxury living with our exquisite collection of handcrafted home décor.</p>
                </div>
                <div class="footer-links-section">
                    <h4 class="footer-title">Quick Links</h4>
                    <div class="footer-links">
                        <a href="index.html">Home</a>
                        <a href="collections.html">Collections</a>
                        <a href="contact.html">Contact Us</a>
                    </div>
                </div>
                <div class="footer-contact">
                    <h4 class="footer-title">Contact</h4>
                    <div class="footer-contact-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path
                                d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                        </svg>
                        <div>
                            <p>+965 6561 1566</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">© 2026 ARTÉVA Maison. All rights reserved.</p>
                <!-- GCC Currency Switcher -->
                <div class="footer-currency">
                    <span class="currency-label">Currency:</span>
                    <div class="currency-options">
                        <button class="currency-btn active" data-currency="KWD">KWD</button>
                        <button class="currency-btn" data-currency="SAR">SAR</button>
                        <button class="currency-btn" data-currency="AED">AED</button>
                        <button class="currency-btn" data-currency="QAR">QAR</button>
                        <button class="currency-btn" data-currency="BHD">BHD</button>
                        <button class="currency-btn" data-currency="OMR">OMR</button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="assets/js/config.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/cart.js"></script>
    <script src="assets/js/currency.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Clear cart button
            document.getElementById('clearCartBtn').addEventListener('click', () => {
                const lang = localStorage.getItem('site_lang') || 'en';
                const confirmMsg = lang === 'ar' ? 'هل أنت متأكد أنك تريد إفراغ سلة التسوق؟' : 'Are you sure you want to clear your cart?';
                const successMsg = lang === 'ar' ? 'تم إفراغ السلة' : 'Cart cleared';

                if (confirm(confirmMsg)) {
                    window.clearCart();
                    window.showNotification(successMsg, 'info');
                }
            });

            // Checkout button
            document.getElementById('checkoutBtn').addEventListener('click', () => {
                if (window.getCartCount && window.getCartCount() === 0) {
                    const lang = localStorage.getItem('site_lang') || 'en';
                    const errorMsg = lang === 'ar' ? 'سلة التسوق فارغة' : 'Your cart is empty';
                    window.showNotification(errorMsg, 'error');
                    return;
                }

                // Check if user is logged in
                const isLoggedIn = window.AuthAPI && window.AuthAPI.isLoggedIn();

                if (isLoggedIn) {
                    window.location.href = 'checkout.html';
                } else {
                    // Redirect to account page with return URL
                    // User asked to redirect to "account creation", so we trigger register tab
                    window.location.href = 'account.html?redirect=checkout&action=register';
                }
            });
        });
    </script>
</body>

</html>
